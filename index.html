<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>RACE-DEMO • 9:16 (YT + Jump Buttons + AD WALL)</title>
<style>
  :root{
    --bg:#0b1220;--panel:#0f1724;--muted:#9aa6b2;--accent:#ffcc00;--ink:#e6eef8;--card:#0b1622;
    --ad-red:#ff2a55; --ad-yellow:#ffd84d; --ad-green:#2bff88; --ad-cyan:#45e0ff; --ad-purple:#b073ff;
  }
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;font-family:Inter,'Noto Sans KR',system-ui,-apple-system,Segoe UI,Roboto;background:#0a1121;color:var(--ink);display:flex;align-items:center;justify-content:center}

  /* 9:16 프레임 */
  .phone{width:min(540px,100vw);aspect-ratio:9/16;background:linear-gradient(180deg,#0b1220,#091021);
    border-radius:24px;box-shadow:0 24px 80px rgba(0,0,0,.6),inset 0 0 0 1px rgba(255,255,255,.05);overflow:hidden;position:relative}
  header{display:flex;align-items:center;gap:10px;padding:8px 12px;border-bottom:1px solid rgba(255,255,255,.06);background:#0c1326}
  .logo{font-weight:900;color:var(--accent)} .badge{margin-left:auto;background:#4b2b2b;color:#fff;font-weight:800;font-size:11px;padding:6px 8px;border-radius:8px}
  .status{position:absolute;top:8px;left:50%;transform:translateX(-50%);font-size:11px;color:var(--muted);z-index:5}

  /* ====== AD WALL (상단 3단 배너 + 카테고리 바 + 모자이크) ====== */
  .adwall{position:relative;background:#0d1329;border-bottom:1px solid rgba(255,255,255,.06)}
  .adstrip{display:grid;grid-template-columns:1fr 1fr;gap:6px;padding:6px 8px}
  .ad{position:relative;height:44px;border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,.08);cursor:not-allowed}
  .ad .bg{position:absolute;inset:0;background:
    linear-gradient(90deg, rgba(255,255,255,.06), rgba(255,255,255,0) 40%),
    radial-gradient(120% 120% at 0% 50%, rgba(255,216,77,.25), transparent 50%),
    radial-gradient(120% 120% at 100% 50%, rgba(255,42,85,.25), transparent 50%),
    linear-gradient(180deg,#0e142d,#090f21)}
  .ad .scan{position:absolute;inset:-20% 0;height:200%;width:35%;left:-35%;background:linear-gradient(90deg, transparent, rgba(255,255,255,.35), transparent);filter:blur(8px);animation:scan 2.2s linear infinite}
  @keyframes scan{to{left:110%}}
  .ad h4{position:absolute;left:10px;top:8px;margin:0;font-size:12px;font-weight:900;letter-spacing:.4px;
    background:linear-gradient(90deg,#fff,#ffe1a2);-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 2px 10px rgba(0,0,0,.4)}
  .ad p{position:absolute;left:10px;bottom:6px;margin:0;font-size:10px;color:#111;background:linear-gradient(90deg,#fff,#ffd);-webkit-background-clip:text;background-clip:text;color:transparent;opacity:.95}
  .ad .badge{position:absolute;right:8px;top:8px;padding:4px 6px;border-radius:6px;font-size:10px;font-weight:900}
  .b-red{background:linear-gradient(180deg,#ff9aa8,#ff2a55);color:#19060d}
  .b-green{background:linear-gradient(180deg,#a6ffc8,#2bff88);color:#071a10}
  .b-purple{background:linear-gradient(180deg,#e3ccff,#b073ff);color:#170b2a}

  /* 긴 네온 바 (스크롤) */
  .ticker{position:relative;height:28px;display:flex;align-items:center;background:#0a0f22;border-top:1px solid rgba(255,255,255,.04);border-bottom:1px solid rgba(255,255,255,.04)}
  .ticker .run{white-space:nowrap;animation:marquee 18s linear infinite;color:#ffeaa7;font-weight:900;text-shadow:0 0 8px rgba(255,216,77,.7), 0 0 18px rgba(255,42,85,.35);font-size:12px}
  @keyframes marquee{from{transform:translateX(0)} to{transform:translateX(-50%)}}
  .ticker .run span{margin:0 24px}

  /* 카테고리 네비(가짜) */
  .cats{display:grid;grid-template-columns:repeat(8,1fr);gap:6px;padding:8px 8px 6px}
  .cat{padding:8px 0;background:#0f172d;border-radius:8px;text-align:center;font-size:11px;color:#d5deec;border:1px solid rgba(255,255,255,.06);cursor:not-allowed}
  .cat.hot{background:linear-gradient(180deg,#ffdd66,#ffb14d);color:#082018;font-weight:900}

  /* 메인 레이아웃 */
  .tabs{display:flex;gap:8px;overflow:auto;padding:8px 12px;background:rgba(255,255,255,.02)}
  .tab{flex:0 0 auto;padding:8px 12px;border-radius:10px;background:linear-gradient(180deg,#121a2d,#0b1522);color:var(--muted);border:1px solid rgba(255,255,255,.06);font-size:12px;cursor:pointer}
  .tab.active{background:linear-gradient(180deg,#ffdd66,#ffcc00);color:#092018;font-weight:900;box-shadow:0 8px 22px rgba(0,0,0,.5)}
  main{padding:10px 12px;display:grid;grid-template-rows:auto 1fr auto;gap:10px;height:calc(100% - 170px)} /* 위에 광고 높이만큼 */
  .player{background:var(--panel);border-radius:14px;padding:10px;display:flex;flex-direction:column;gap:8px;min-height:0;position:relative}
  .meta{display:flex;justify-content:space-between;align-items:center;font-size:12px;color:var(--muted)}
  .video{width:100%;aspect-ratio:16/9;background:#000;border-radius:10px;overflow:hidden;position:relative}
  iframe{width:100%;height:100%;border:0;display:block}

  .jumpbar{position:absolute;right:8px;top:8px;display:flex;flex-direction:column;gap:6px;z-index:5}
  .jump{background:#0b1622cc;border:1px solid rgba(255,255,255,.06);backdrop-filter:blur(2px);color:#e6eef8;font-weight:800;font-size:11px;padding:6px 8px;border-radius:8px;cursor:pointer}
  .jump:hover{background:#123054}

  .ctrls{display:flex;gap:8px}
  .btn{padding:9px 12px;border-radius:10px;border:none;font-weight:900;cursor:pointer}
  .btn-prim{background:linear-gradient(180deg,#ffdd66,#ffcc00);color:#092018;opacity:.6;cursor:not-allowed}
  .btn-ghost{background:#0b1622;color:var(--muted);border:1px solid rgba(255,255,255,.06)}

  .panels{background:#0a1424;border-radius:12px;padding:10px;min-height:110px;overflow:auto}
  .panel{display:none;font-size:13px;color:#dfe9f6} .panel[aria-hidden="false"]{display:block}
  .odds{display:grid;grid-template-columns:1fr auto;gap:6px;margin-top:8px}
  .cell{background:#071424;border-radius:8px;padding:8px 10px} .right{text-align:right;font-weight:900}

  .wm{position:absolute;left:10px;bottom:10px;background:#111827cc;color:#fff;padding:6px 8px;border-radius:8px;font-size:11px}
  .a11y{font-size:11px;color:var(--muted);text-align:center}

  /* 반짝 글로우 */
  .glow{position:absolute;inset:0;pointer-events:none;mix-blend-mode:screen;background:
     radial-gradient(600px 40px at 20% 0, rgba(255,216,77,.2), transparent 60%),
     radial-gradient(600px 40px at 80% 100%, rgba(69,224,255,.12), transparent 60%)}

/* === 모바일 대응 광고 사이즈 조정 === */
  @media (max-width: 540px) {
    html, body { height: 100svh; } /* iOS 주소창 대응 */
    body { 
      display:block;               /* 가운데 정렬 해제 */
      overflow:auto; 
      background:#0a1121; 
    }
    .ad{
      height:28px; /* 얇아짐 */
      border-radius:6px;
    }
    .ad h4{
      font-size:10px;
      top:4px;
    }
    .ad p{
      font-size:8px;
      bottom:2px;
    }
    .ad .badge{
      font-size:8px;
      padding:2px 4px;
    }
    .ticker{
      height:20px;
    }
    .ticker .run{
      font-size:10px;
    }
    .cats{
      grid-template-columns:repeat(4,1fr);
      gap:4px;
      padding:4px;
    }
    .cat{
      font-size:9px;
      padding:6px 0;
    }
    /* 본문 높이 다시 계산 */
    main{
      height:calc(100% - 140px); /* 상단 광고 덜 차지 */
    }
  }

</style>
</head>
<body>
<div class="phone" role="application" aria-label="Racing demo 9:16">
  <div class="status">DEMO • FOR FILM ONLY</div>
  <header>
    <div class="logo">RACE-DEMO</div>
    <div class="badge">NO BET / NO PAY</div>
  </header>

  <!-- ====== AD WALL (연출용, 클릭 무력화) ====== -->
  <section class="adwall" aria-label="연출용 광고 영역 (실제 기능 없음)">
    <div class="adstrip">
      <div class="ad" aria-hidden="false">
        <div class="bg"></div><div class="scan"></div>
        <h4>신규 첫충 300% (데모)</h4><p>EVT CODE: DEMO300 • 오늘만!</p>
        <div class="badge b-red">HOT</div>
      </div>
      <div class="ad">
        <div class="bg"></div><div class="scan"></div>
        <h4>무한롤백 10% (연출)</h4><p>라이브/카지노/스포츠 가짜 텍스트</p>
        <div class="badge b-green">LIVE</div>
      </div>
      <div class="ad">
        <div class="bg"></div><div class="scan"></div>
        <h4>친구초대 +20% (데모)</h4><p>실제 참여 불가 • 화면연출용</p>
        <div class="badge b-purple">AD</div>
      </div>
      <div class="ad">
        <div class="bg"></div><div class="scan"></div>
        <h4>지급보너스 100% (가짜)</h4><p>계정/입금/출금 없음</p>
        <div class="badge b-red">TOP</div>
      </div>
    </div>

    <div class="ticker" aria-hidden="false">
      <div class="run">
        <span>⚠️ 데모 광고 — 실제 배팅/결제 불가</span>
        <span>신규 첫충 300%? 전부 연출용 문구 ✅</span>
        <span>무한롤백 10% — 가짜 텍스트</span>
        <span>라이브/스포츠/카지노 — 전부 비활성</span>
        <span>⚠️ 촬영 소품 전용 • 실제 이용 금지</span>
      </div>
      <div class="run" aria-hidden="true">
        <span>⚠️ 데모 광고 — 실제 배팅/결제 불가</span>
        <span>신규 첫충 300%? 전부 연출용 문구 ✅</span>
        <span>무한롤백 10% — 가짜 텍스트</span>
        <span>라이브/스포츠/카지노 — 전부 비활성</span>
        <span>⚠️ 촬영 소품 전용 • 실제 이용 금지</span>
      </div>
    </div>

    <div class="cats" aria-hidden="false">
      <div class="cat hot">최신</div><div class="cat">실시간</div><div class="cat">라이브</div><div class="cat">이벤트</div>
      <div class="cat">스포츠</div><div class="cat">카지노</div><div class="cat">슬롯</div><div class="cat">토큰</div>
    </div>
    <div class="glow"></div>
  </section>
  <!-- ====== /AD WALL ====== -->

  <!-- ====== MAIN BODY ====== -->
  <div class="tabs" id="tabs" role="tablist" aria-label="main tabs">
    <div class="tab active" role="tab" aria-selected="true" data-panel="p-live">경주중계</div>
    <div class="tab" role="tab" aria-selected="false" data-panel="p-list">경주리스트</div>
    <div class="tab" role="tab" aria-selected="false" data-panel="p-virtual">가상경마</div>
    <div class="tab" role="tab" aria-selected="false" data-panel="p-result">경주결과</div>
    <div class="tab" role="tab" aria-selected="false" data-panel="p-event">이벤트</div>
  </div>

  <main>
    <section class="player">
      <div class="meta">
        <div><strong id="title">경주중계 • Demo</strong><br><span>유튜브 링크 재생 중</span></div>
        <div>Status: <strong style="color:var(--accent)">LIVE</strong></div>
      </div>

      <div class="video">
        <!-- 이동 버튼 -->
        <div class="jumpbar" id="jumpbar"></div>

        <!-- YouTube -->
        <iframe id="yt" src="" title="Race demo"
          allow="autoplay; encrypted-media; picture-in-picture" allowfullscreen></iframe>
      </div>

      <div class="meta" style="gap:8px">
        <div class="ctrls">
          <button class="btn btn-prim" disabled>배팅하기</button>
          <button id="muteBtn" class="btn btn-ghost" aria-pressed="true">🔇 음소거</button>
          <button id="reloadBtn" class="btn btn-ghost">↻ 새로고침</button>
        </div>
        <div>자동재생은 무음일 때 안정적입니다.</div>
      </div>
    </section>

    <section class="panels" id="panels">
      <div class="panel" id="p-live" aria-hidden="false">
        <div style="font-weight:800">실황 정보 (데모)</div>
        <div style="margin-top:6px;color:var(--muted);font-size:12px">상단 광고는 **연출용**, 모든 버튼/링크 무력화.</div>
        <div class="odds" id="odds">
          <div class="cell">1. 블루 제트</div><div class="cell right"><span class="odd">5.2</span></div>
          <div class="cell">2. 스톰 라이더</div><div class="cell right"><span class="odd">3.8</span></div>
          <div class="cell">3. 레드 썬</div><div class="cell right"><span class="odd">9.5</span></div>
          <div class="cell">4. 실버 브리즈</div><div class="cell right"><span class="odd">7.1</span></div>
        </div>
      </div>

      <div class="panel" id="p-list" aria-hidden="true">
        <div style="font-weight:800">경주 리스트 (연출용)</div>
        <ul style="margin:8px 0 0 18px;line-height:1.7">
          <li>6R Spring Stakes — 1400M — 13:50</li>
          <li>7R Autumn Cup — 1800M — 14:30</li>
          <li>8R Night Dash — 1200M — 15:05</li>
        </ul>
      </div>

      <div class="panel" id="p-virtual" aria-hidden="true">
        <div style="font-weight:800">가상경마 (데모)</div>
        <div style="margin-top:6px">합성 영상/애니메이션 삽입 위치.</div>
      </div>

      <div class="panel" id="p-result" aria-hidden="true">
        <div style="font-weight:800">경주결과 (데모)</div>
        <div style="margin-top:6px">도착 순위/기록은 연출 데이터로 표시.</div>
      </div>

      <div class="panel" id="p-event" aria-hidden="true">
        <div style="font-weight:800">이벤트 (데모)</div>
        <div style="margin-top:6px">프로모션/공지용 공간.</div>
      </div>
    </section>

    <section class="a11y">촬영용 소품 데모입니다. 실제 배팅/결제/계정 기능 없음.</section>
  </main>

  <div class="wm">DEMO • FOR FILM USE ONLY</div>
</div>

<script>
  // ===== 기본 설정 =====
  const YT_LINK = "https://www.youtube.com/watch?v=b-X9ej-pncw";
  const SECTIONS = [
    {label:"양식1", start:0},
    {label:"양식2", start:20},
    {label:"배팅1", start:45},
    {label:"종료예시", start:70},
    {label:"예상지", start:95}
  ];

  // 탭 전환
  const tabs=document.querySelectorAll('.tab');
  const panels=document.querySelectorAll('.panel');
  tabs.forEach(t=>{
    t.addEventListener('click',()=>{
      tabs.forEach(x=>{x.classList.remove('active');x.setAttribute('aria-selected','false')});
      t.classList.add('active'); t.setAttribute('aria-selected','true');
      const id=t.dataset.panel;
      panels.forEach(p=>p.setAttribute('aria-hidden', p.id===id ? 'false':'true'));
      document.getElementById('title').textContent=t.textContent+' • Demo';
    });
  });

  // YouTube 임베드
  function getVideoIdFromUrl(url){
    try{
      const u=new URL(url);
      if(u.hostname.includes('youtu.be')) return u.pathname.slice(1);
      if(u.searchParams.get('v')) return u.searchParams.get('v');
      const m=u.pathname.match(/\/embed\/([\w-]{6,})/);
      if(m) return m[1];
    }catch(e){}
    return url;
  }
  const yt=document.getElementById('yt');
  const videoId=getVideoIdFromUrl(YT_LINK);
  function setTime(t){
    yt.src=`https://www.youtube.com/embed/${encodeURIComponent(videoId)}?rel=0&playsinline=1&autoplay=1&mute=1&controls=0&modestbranding=1&start=${Math.max(0,Math.floor(t))}`;
  }
  setTime(0);

  // 점프 버튼 생성
  const jumpbar=document.getElementById('jumpbar');
  SECTIONS.forEach(s=>{
    const b=document.createElement('button');
    b.className='jump'; b.type='button'; b.textContent=s.label;
    b.addEventListener('click',()=>setTime(s.start));
    jumpbar.appendChild(b);
  });

  // 음소거/새로고침
  const muteBtn=document.getElementById('muteBtn');
  const reloadBtn=document.getElementById('reloadBtn');
  function toggleMute(){
    const url=new URL(yt.src); const isMuted=url.searchParams.get('mute')!=='0';
    url.searchParams.set('mute', isMuted?'0':'1'); url.searchParams.set('autoplay','1');
    yt.src=url.toString();
    muteBtn.textContent=isMuted?'🔊 소리 켜짐':'🔇 음소거';
    muteBtn.setAttribute('aria-pressed', isMuted?'false':'true');
  }
  muteBtn.addEventListener('click',toggleMute);
  reloadBtn.addEventListener('click',()=>{ yt.src=yt.src });

  // 오즈 숫자 연출
  setInterval(()=>{
    document.querySelectorAll('.odd').forEach(el=>{
      const base=parseFloat(el.dataset.base || el.textContent);
      const delta=(Math.random()-0.5)*0.3;
      const next=Math.max(1.1, +(base+delta).toFixed(1));
      el.textContent=next.toFixed(1);
      el.dataset.base=next;
      el.parentElement.style.transition='background 120ms ease';
      el.parentElement.style.background='#0f2744';
      setTimeout(()=>el.parentElement.style.background='#071424',120);
    });
  }, 1600);

  // ===== 광고 안전장치: 클릭 무효화 =====
  document.querySelectorAll('.ad, .cat').forEach(el=>{
    el.addEventListener('click',(e)=>{ e.preventDefault(); e.stopPropagation(); el.animate([{transform:'scale(1)'},{transform:'scale(.96)'},{transform:'scale(1)'}],{duration:220}) });
  });

  // 외부에서 링크 교체 유틸
  window.setYouTubeByUrl=function(url){
    const id=getVideoIdFromUrl(url);
    yt.src=`https://www.youtube.com/embed/${encodeURIComponent(id)}?rel=0&playsinline=1&autoplay=1&mute=1&controls=0&modestbranding=1`;
  }
</script>
</body>
</html>
