<!-- 파일: prop-racing-9x16-jumps.html -->
<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>RACE-DEMO • 9:16 (YT + Jump Buttons)</title>
<style>
  :root{--bg:#0b1220;--panel:#0f1724;--muted:#9aa6b2;--accent:#ffcc00;--ink:#e6eef8;--card:#0b1622}
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;font-family:Inter,'Noto Sans KR',system-ui,-apple-system,Segoe UI,Roboto;background:radial-gradient(120% 120% at 70% 0%,#141a2f 0%,#0b1220 55%,#070c17 100%);color:var(--ink);display:flex;align-items:center;justify-content:center}
  .phone{width:min(540px,100vw);aspect-ratio:9/16;background:linear-gradient(180deg,#0b1220,#091021);border-radius:24px;box-shadow:0 24px 80px rgba(0,0,0,.6),inset 0 0 0 1px rgba(255,255,255,.05);overflow:hidden;position:relative}
  header{display:flex;align-items:center;gap:10px;padding:10px 14px;border-bottom:1px solid rgba(255,255,255,.06)}
  .logo{font-weight:900;color:var(--accent)} .badge{margin-left:auto;background:#4b2b2b;color:#fff;font-weight:800;font-size:11px;padding:6px 8px;border-radius:8px}
  .tabs{display:flex;gap:8px;overflow:auto;padding:10px 12px;background:rgba(255,255,255,.02)}
  .tab{flex:0 0 auto;padding:8px 12px;border-radius:10px;background:linear-gradient(180deg,#121a2d,#0b1522);color:var(--muted);border:1px solid rgba(255,255,255,.06);font-size:12px;cursor:pointer}
  .tab.active{background:linear-gradient(180deg,#ffdd66,#ffcc00);color:#092018;font-weight:900;box-shadow:0 8px 22px rgba(0,0,0,.5)}
  main{padding:12px;display:grid;grid-template-rows:auto 1fr auto;gap:10px;height:calc(100% - 92px)}
  .player{background:var(--panel);border-radius:14px;padding:10px;display:flex;flex-direction:column;gap:8px;min-height:0;position:relative}
  .meta{display:flex;justify-content:space-between;align-items:center;font-size:12px;color:var(--muted)}
  .video{width:100%;aspect-ratio:16/9;background:#000;border-radius:10px;overflow:hidden;position:relative}
  iframe{width:100%;height:100%;border:0;display:block}
  .ctrls{display:flex;gap:8px}
  .btn{padding:9px 12px;border-radius:10px;border:none;font-weight:900;cursor:pointer}
  .btn-prim{background:linear-gradient(180deg,#ffdd66,#ffcc00);color:#092018;opacity:.6;cursor:not-allowed}
  .btn-ghost{background:#0b1622;color:var(--muted);border:1px solid rgba(255,255,255,.06)}
  .panels{background:#0a1424;border-radius:12px;padding:10px;min-height:110px;overflow:auto}
  .panel{display:none;font-size:13px;color:#dfe9f6} .panel[aria-hidden="false"]{display:block}
  .odds{display:grid;grid-template-columns:1fr auto;gap:6px;margin-top:8px}
  .cell{background:#071424;border-radius:8px;padding:8px 10px} .right{text-align:right;font-weight:900}
  .jumpbar{position:absolute;right:8px;top:8px;display:flex;flex-direction:column;gap:6px;z-index:5}
  .jump{background:#0b1622cc;border:1px solid rgba(255,255,255,.06);backdrop-filter:blur(2px);color:#e6eef8;font-weight:800;font-size:11px;padding:6px 8px;border-radius:8px;cursor:pointer}
  .jump:hover{background:#123054}
  .wm{position:absolute;left:10px;bottom:10px;background:#111827cc;color:#fff;padding:6px 8px;border-radius:8px;font-size:11px}
  .status{position:absolute;top:8px;left:50%;transform:translateX(-50%);font-size:11px;color:var(--muted)}
</style>
</head>
<body>
<div class="phone" role="application" aria-label="Racing demo 9:16">
  <div class="status">DEMO • FOR FILM ONLY</div>
  <header>
    <div class="logo">RACE-DEMO</div>
    <div class="badge">NO BET / NO PAY</div>
  </header>

  <div class="tabs" id="tabs" role="tablist" aria-label="main tabs">
    <div class="tab active" role="tab" aria-selected="true" data-panel="p-live">경주중계</div>
    <div class="tab" role="tab" aria-selected="false" data-panel="p-list">경주리스트</div>
    <div class="tab" role="tab" aria-selected="false" data-panel="p-virtual">가상경마</div>
    <div class="tab" role="tab" aria-selected="false" data-panel="p-result">경주결과</div>
    <div class="tab" role="tab" aria-selected="false" data-panel="p-event">이벤트</div>
  </div>

  <main>
    <section class="player">
      <div class="meta">
        <div><strong id="title">경주중계 • Demo</strong><br><span>유튜브 링크 재생 중</span></div>
        <div>Status: <strong style="color:var(--accent)">LIVE</strong></div>
      </div>

      <div class="video">
        <!-- 이동 버튼 (작동) -->
        <div class="jumpbar" id="jumpbar"></div>

        <!-- YouTube: 네가 준 링크로 기본 설정 -->
        <iframe id="yt"
          src=""
          title="Race demo" allow="autoplay; encrypted-media; picture-in-picture" allowfullscreen></iframe>
      </div>

      <div class="meta" style="gap:8px">
        <div class="ctrls">
          <button class="btn btn-prim" disabled>배팅하기</button>
          <button id="muteBtn" class="btn btn-ghost" aria-pressed="true">🔇 음소거</button>
          <button id="reloadBtn" class="btn btn-ghost">↻ 새로고침</button>
        </div>
        <div>자동재생은 무음일 때 안정적입니다.</div>
      </div>
    </section>

    <section class="panels" id="panels">
      <div class="panel" id="p-live" aria-hidden="false">
        <div style="font-weight:800">실황 정보 (데모)</div>
        <div style="margin-top:6px;color:var(--muted);font-size:12px">이동 버튼을 누르면 같은 영상의 특정 구간으로 점프.</div>
        <div class="odds" id="odds">
          <div class="cell">1. 블루 제트</div><div class="cell right"><span class="odd">5.2</span></div>
          <div class="cell">2. 스톰 라이더</div><div class="cell right"><span class="odd">3.8</span></div>
          <div class="cell">3. 레드 썬</div><div class="cell right"><span class="odd">9.5</span></div>
          <div class="cell">4. 실버 브리즈</div><div class="cell right"><span class="odd">7.1</span></div>
        </div>
      </div>

      <div class="panel" id="p-list" aria-hidden="true">
        <div style="font-weight:800">경주 리스트 (연출용)</div>
        <ul style="margin:8px 0 0 18px;line-height:1.7">
          <li>6R Spring Stakes — 1400M — 13:50</li>
          <li>7R Autumn Cup — 1800M — 14:30</li>
          <li>8R Night Dash — 1200M — 15:05</li>
        </ul>
      </div>

      <div class="panel" id="p-virtual" aria-hidden="true">
        <div style="font-weight:800">가상경마 (데모)</div>
        <div style="margin-top:6px">합성 영상/애니메이션 삽입 위치.</div>
      </div>

      <div class="panel" id="p-result" aria-hidden="true">
        <div style="font-weight:800">경주결과 (데모)</div>
        <div style="margin-top:6px">도착 순위/기록은 연출 데이터로 표시.</div>
      </div>

      <div class="panel" id="p-event" aria-hidden="true">
        <div style="font-weight:800">이벤트 (데모)</div>
        <div style="margin-top:6px">프로모션/공지용 공간.</div>
      </div>
    </section>

    <section style="font-size:11px;color:var(--muted);text-align:center">
      촬영용 소품 데모입니다. 실제 배팅/결제/계정 기능 없음.
    </section>
  </main>

  <div class="wm">DEMO • FOR FILM USE ONLY</div>
</div>

<script>
  // ====== 설정 ======
  // 네가 준 유튜브 링크
  const YT_LINK = "https://www.youtube.com/watch?v=b-X9ej-pncw";

  // 이동 버튼(섹션) — 이름과 시작초만 바꿔 쓰면 됨
  const SECTIONS = [
    {label:"양식1", start:0},
    {label:"양식2", start:20},
    {label:"배팅1", start:45},
    {label:"종료예시", start:70},
    {label:"예상지", start:95}
  ];
  // ====== /설정 ======

  // 탭 전환
  const tabs=document.querySelectorAll('.tab');
  const panels=document.querySelectorAll('.panel');
  tabs.forEach(t=>{
    t.addEventListener('click',()=>{
      tabs.forEach(x=>{x.classList.remove('active');x.setAttribute('aria-selected','false')});
      t.classList.add('active'); t.setAttribute('aria-selected','true');
      const id=t.dataset.panel;
      panels.forEach(p=>p.setAttribute('aria-hidden', p.id===id ? 'false':'true'));
      document.getElementById('title').textContent=t.textContent+' • Demo';
    });
  });

  // 유튜브 임베드 URL 생성
  function getVideoIdFromUrl(url){
    try{
      const u=new URL(url);
      if(u.hostname.includes('youtu.be')) return u.pathname.slice(1);
      if(u.searchParams.get('v')) return u.searchParams.get('v');
      // /embed/ID 패턴
      const m=u.pathname.match(/\/embed\/([\w-]{6,})/); 
      if(m) return m[1];
    }catch(e){}
    return url; // 이미 ID일 때
  }
  const yt=document.getElementById('yt');
  const videoId=getVideoIdFromUrl(YT_LINK);

  function setTime(t){
    // autoplay=1 & mute=1로 안정 재생, start=초
    yt.src=`https://www.youtube.com/embed/${encodeURIComponent(videoId)}?rel=0&playsinline=1&autoplay=1&mute=1&controls=0&modestbranding=1&start=${Math.max(0,Math.floor(t))}`;
  }

  // 초기 로드
  setTime(0);

  // 점프 버튼 구성
  const jumpbar=document.getElementById('jumpbar');
  SECTIONS.forEach(s=>{
    const b=document.createElement('button');
    b.className='jump'; b.type='button';
    b.textContent=s.label;
    b.addEventListener('click',()=>setTime(s.start));
    jumpbar.appendChild(b);
  });

  // 음소거 토글(재로딩 방식)
  const muteBtn=document.getElementById('muteBtn');
  const reloadBtn=document.getElementById('reloadBtn');
  function toggleMute(){
    const url=new URL(yt.src); const isMuted=url.searchParams.get('mute')!=='0';
    url.searchParams.set('mute', isMuted?'0':'1'); url.searchParams.set('autoplay','1');
    yt.src=url.toString();
    muteBtn.textContent=isMuted?'🔊 소리 켜짐':'🔇 음소거';
    muteBtn.setAttribute('aria-pressed', isMuted?'false':'true');
  }
  muteBtn.addEventListener('click',toggleMute);
  reloadBtn.addEventListener('click',()=>{ yt.src=yt.src });

  // 오즈 숫자 연출
  setInterval(()=>{
    document.querySelectorAll('.odd').forEach(el=>{
      const base=parseFloat(el.dataset.base || el.textContent);
      const delta=(Math.random()-0.5)*0.3;
      const next=Math.max(1.1, +(base+delta).toFixed(1));
      el.textContent=next.toFixed(1);
      el.dataset.base=next;
      el.parentElement.style.transition='background 120ms ease';
      el.parentElement.style.background='#0f2744';
      setTimeout(()=>el.parentElement.style.background='#071424',120);
    });
  }, 1600);

  // 외부에서 다른 링크로 바꾸고 싶으면:
  window.setYouTubeByUrl=function(url){
    const id=getVideoIdFromUrl(url);
    yt.src=`https://www.youtube.com/embed/${encodeURIComponent(id)}?rel=0&playsinline=1&autoplay=1&mute=1&controls=0&modestbranding=1`;
  }
</script>
</body>
</html>
